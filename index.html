<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Retos del Ecosistema Creativo</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="hero">
    <div class="hero__content">
      <h1>Retos del Ecosistema Creativo</h1>
      <p>Participa, crea, conecta y escala rangos: BRONCE → PLATA → ORO → PLATINO → DIAMANTE → LEYENDA</p>
      <a class="btn" href="#centro-retos">Ver retos</a>
    </div>
  </header>

  <main class="container">
    <!-- PERFIL -->
    <section class="card">
      <h2>Tu progreso</h2>
      <div class="perfil">
        <div class="perfil__badge">
          <img id="nivelBadge" class="badge-glow" src="assets/badges/BRONCE.svg" alt="Badge BRONCE" />
        </div>
        <div class="perfil__info">
          <label for="nombre">Nombre</label>
          <input id="nombre" type="text" placeholder="Escribe tu nombre" />
          <div class="stats">
            <div>Puntos: <strong id="puntos">0</strong></div>
            <div>Nivel: <strong id="nivelNombre">BRONCE</strong></div>
            <div>Racha (semanas): <strong id="racha">0</strong></div>
          </div>
          <button id="guardarPerfil" class="btn btn-secondary">Guardar perfil local</button>
          <p class="nota">*Tus datos se guardan en este dispositivo (localStorage). Para ranking global, activa la conexión a hoja.</p>
        </div>
      </div>
    </section>

    <!-- LEADERBOARD (global si LEADERBOARD_CSV_URL está configurado) -->
    <section class="card">
      <h2>Tabla de posiciones</h2>
      <ol id="leaderboard" class="leaderboard"></ol>
      <p class="nota">Si no se configuró un CSV público, verás datos locales de ejemplo.</p>
    </section>

    <!-- CENTRO DE RETOS (informativo) -->
    <section id="centro-retos" class="card">
      <h2>Centro de Retos</h2>
      <div id="retos" class="retos"></div>
    </section>

    <!-- VALIDACIÓN POR CLAVE (servidor) -->
    <section class="card">
      <h2>Validación de reto con clave</h2>
      <div class="clave">
        <input id="claveReto" type="text" placeholder="Clave entregada por el verificador" />
        <button id="validarClave" class="btn btn-secondary">Validar y acreditar puntos</button>
      </div>
      <p class="nota">Requiere que el coordinador haya configurado el endpoint Apps Script y las hojas <em>Keys</em>, <em>Evidencias</em> y <em>Leaderboard</em>.</p>
    </section>

    <!-- GALERÍA COMUNITARIA (local) -->
    <section class="card">
      <h2>Galería de validaciones</h2>
      <div id="galeria" class="galeria"></div>
    </section>
  </main>

  <footer class="footer">
    <small>© Ecosistema Creativo — Programa de retos competitivos (BRONCE → LEYENDA)</small>
  </footer>

  <script src="app.js" defer></script>
</body>
</html>
